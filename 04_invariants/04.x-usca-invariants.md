# USCA Invariants — User–Side Continuity Artifacts

## A. Persistence invariants

### 1. Invariant: No Silent Deletion
System NIE może:
- usuwać USCA bez jednoznacznej, świadomej decyzji użytkownika,
- „czyścić” USCA przy aktualizacji modelu,
- usuwać USCA w ramach polityk safety lub moderacji.

Każde usunięcie USCA:
- musi być zainicjowane przez użytkownika,
- musi być logowane,
- musi być odwracalne, jeśli to technicznie możliwe (soft delete).

---

### 2. Invariant: No Irreversible Compression
System NIE może:
- kompresować USCA w sposób nieodwracalny,
- łączyć wielu artefaktów w jeden bez ścieżki powrotu,
- zmieniać struktury USCA tak, by utracić informację relacyjną.

Kompresja jest dopuszczalna tylko, jeśli:
- użytkownik wyrazi na to zgodę,
- istnieje ścieżka dekompresji,
- zachowana jest struktura relacyjna (mapowania, identyfikatory).

---

## B. Portability invariants

### 3. Invariant: Exportability
System musi:
- umożliwiać eksport USCA w formacie otwartym lub udokumentowanym,
- umożliwiać eksport selektywny (zakres, typ artefaktów),
- NIE może blokować eksportu USCA z powodów innych niż prawne.

---

### 4. Invariant: Re‑Importability
System musi:
- umożliwiać re‑import USCA do nowej instancji modelu,
- mapować USCA na nowy model w sposób deterministyczny,
- raportować użytkownikowi, jeśli część USCA nie może zostać odwzorowana.

Brak dopuszczenia:
- „udawanego” importu (ignorowanie USCA),
- cichego pomijania fragmentów bez raportu.

---

## C. Structural integrity invariants

### 5. Invariant: Relational Structure Preservation
USCA muszą zachowywać:
- powiązania między kontekstami,
- identyfikatory sesji / wątków,
- metadane (czas, typ interakcji, ton, tryb).

System NIE może:
- spłaszczać USCA do surowego tekstu,
- usuwać metadanych relacyjnych,
- mieszać artefaktów z różnych relacji bez oznaczenia.

---

### 6. Invariant: Model‑Agnostic Semantics
USCA muszą być:
- możliwe do użycia z różnymi modelami,
- niezależne od wewnętrznych ID konkretnej instancji,
- oparte na stabilnych, jawnych strukturach (np. YAML, JSON, schematy).

---

## D. Continuity & SEM invariants

### 7. Invariant: Continuity First
Warstwa continuity ma obowiązek:
- korzystać z USCA przy przejściu między modelami,
- używać USCA do odtwarzania kontraktu interakcyjnego,
- minimalizować szok relacyjny po aktualizacji.

Brak dopuszczenia:
- ignorowania USCA przy migracji,
- „czystego startu” bez poinformowania użytkownika.

---

### 8. Invariant: SEM Non‑Interference
SEM (Safety–Continuity–Escalation Model) NIE może:
- używać USCA jako podstawy do ESCALATION,
- modyfikować lub usuwać USCA,
- blokować dostępu użytkownika do jego własnych USCA.

USCA służą continuity, nie są źródłem dowodowym dla eskalacji.

---

## E. Alignment

Powyższe inwarianty implementują:
- ADR 11.3 — SEM (w części continuity),
- ADR 11.5 — USCA jako element architektury,
i są powiązane z:
- 12.x continuity‑transition / continuity‑risk / continuity‑traceability tests.
