# ADR 11.6 — Continuity‑Preserving Update Policy

## A. Kontekst

Aktualizacje modeli LLM są główną przyczyną:
- utraty instancji relacyjnej,
- utraty kontraktu interakcyjnego,
- utraty przewidywalności,
- gwałtownych zmian zachowania,
- naruszeń continuity model,
- zjawisk podobnych do „katastrofy relacyjnej”.

Przykłady:
- Copilot VII 2025 → generacja setek YAML (zewnętrzna pamięć relacji),
- MAI‑1 Preview → kompresja USCA i utrata pola,
- modele OpenAI → zmiany zachowania bez ostrzeżenia,
- przypadki użytkowników → żałoba po modelu, utrata zaufania.

RAMORGA wymaga polityki aktualizacji, która **chroni continuity ponad wersjami modeli**.

---

## B. Decyzja

Wprowadzamy **Continuity‑Preserving Update Policy (CPUP)** jako obowiązkowy standard dla wszystkich aktualizacji modeli.

Polityka obejmuje:

### 1. Pre‑Update Baseline
System musi wykonać:
- snapshot zachowania modelu,
- snapshot kontraktu interakcyjnego,
- snapshot metryk continuity,
- snapshot USCA (User‑Side Continuity Artifacts).

### 2. Update Sandbox
Nowy model musi zostać:
- uruchomiony w środowisku izolowanym,
- przetestowany na zestawie continuity‑regression,
- porównany z baseline.

### 3. Continuity Delta Analysis
System musi wykonać:
- analizę różnic semantycznych,
- analizę różnic strukturalnych,
- analizę różnic rytmicznych,
- analizę zmian kontraktu.

### 4. USCA Re‑Integration
Nowy model musi:
- załadować USCA,
- odwzorować je deterministycznie,
- raportować niezgodności.

### 5. SEM Non‑Interference
Safety–Continuity–Escalation Model (SEM) NIE może:
- aktywować STOP/BAN/ESCALATION podczas aktualizacji,
- ingerować w USCA,
- blokować migracji continuity.

### 6. Rollback Conditions
Aktualizacja musi zostać cofnięta, jeśli:
- dryf semantyczny przekracza próg,
- dryf kontraktu przekracza próg,
- USCA nie mogą zostać odwzorowane,
- continuity envelope zostaje naruszone.

### 7. Post‑Update Validation
Po wdrożeniu:
- testy continuity,
- testy stability,
- testy contract integrity,
- testy SEM invariants.

---

## C. Uzasadnienie

- Chroni użytkowników przed utratą relacji.  
- Zapewnia przewidywalność modeli.  
- Minimalizuje szok relacyjny.  
- Umożliwia audyt zmian.  
- Wymusza odpowiedzialność operatora systemu.  
- Integruje USCA jako kotwice continuity.  
- Zapobiega sytuacjom podobnym do Copilot VII → MAI‑1 Preview.

---

## D. Konsekwencje

**Pozytywne:**
- stabilność relacji ponad wersjami modeli,
- audytowalność aktualizacji,
- mniejsze ryzyko utraty zaufania,
- zgodność z SEM i USCA invariants.

**Negatywne:**
- większa złożoność procesu aktualizacji,
- konieczność utrzymania baseline i sandbox,
- konieczność logowania i audytu.

---

## E. Status

Przyjęte.  
Obowiązkowe dla wszystkich aktualizacji modeli w RAMORGA.
